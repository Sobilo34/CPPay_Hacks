{
  "_format": "hh-sol-artifact-1",
  "contractName": "SessionKeyModule",
  "sourceName": "contracts/SessionKeyModule.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "smartAccount",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "sessionKey",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "sessionId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint48",
          "name": "validUntil",
          "type": "uint48"
        }
      ],
      "name": "SessionKeyCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "smartAccount",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "sessionId",
          "type": "uint256"
        }
      ],
      "name": "SessionKeyRevoked",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "smartAccount",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "sessionId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "txHash",
          "type": "bytes32"
        }
      ],
      "name": "SessionKeyUsed",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "sessionKey",
          "type": "address"
        },
        {
          "internalType": "uint48",
          "name": "validDuration",
          "type": "uint48"
        }
      ],
      "name": "createSessionKey",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "sessionId",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "smartAccount",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "sessionId",
          "type": "uint256"
        }
      ],
      "name": "getSessionKey",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "sessionKey",
              "type": "address"
            },
            {
              "internalType": "uint48",
              "name": "validUntil",
              "type": "uint48"
            },
            {
              "internalType": "uint48",
              "name": "validAfter",
              "type": "uint48"
            },
            {
              "internalType": "uint256",
              "name": "sessionId",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "isActive",
              "type": "bool"
            }
          ],
          "internalType": "struct SessionKeyModule.SessionKeyData",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "smartAccount",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "sessionId",
          "type": "uint256"
        }
      ],
      "name": "isSessionKeyValid",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "sessionId",
          "type": "uint256"
        }
      ],
      "name": "revokeSessionKey",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "sessionCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "sessions",
      "outputs": [
        {
          "internalType": "address",
          "name": "sessionKey",
          "type": "address"
        },
        {
          "internalType": "uint48",
          "name": "validUntil",
          "type": "uint48"
        },
        {
          "internalType": "uint48",
          "name": "validAfter",
          "type": "uint48"
        },
        {
          "internalType": "uint256",
          "name": "sessionId",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isActive",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "smartAccount",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "sessionId",
          "type": "uint256"
        },
        {
          "internalType": "bytes32",
          "name": "txHash",
          "type": "bytes32"
        },
        {
          "internalType": "bytes",
          "name": "signature",
          "type": "bytes"
        }
      ],
      "name": "validateSessionKey",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x6080604052348015600f57600080fd5b50610c228061001f6000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c806381c4246d1161005b57806381c4246d1461013d578063a0c3ba1a14610160578063b6c1107a146101fc578063dc175e521461020f57600080fd5b80635b8a30a2146100825780635fb3fbdb146100975780636054d9f41461010f575b600080fd5b6100956100903660046109de565b610222565b005b6100aa6100a5366004610a13565b6102de565b6040516101069190600060a08201905060018060a01b03835116825265ffffffffffff602084015116602083015265ffffffffffff60408401511660408301526060830151606083015260808301511515608083015292915050565b60405180910390f35b61012f61011d366004610a3d565b60016020526000908152604090205481565b604051908152602001610106565b61015061014b366004610a13565b610384565b6040519015158152602001610106565b6101bc61016e366004610a13565b60006020818152928152604080822090935290815220805460018201546002909201546001600160a01b0382169265ffffffffffff600160a01b8404811693600160d01b9004169160ff1685565b604080516001600160a01b0396909616865265ffffffffffff9485166020870152929093169184019190915260608301521515608082015260a001610106565b61015061020a366004610a75565b610430565b61012f61021d366004610b52565b61055e565b3360009081526020818152604080832084845290915290206002015460ff166102875760405162461bcd60e51b815260206004820152601260248201527153657373696f6e206e6f742061637469766560701b60448201526064015b60405180910390fd5b33600081815260208181526040808320858452825291829020600201805460ff1916905590518381527f2a2f045b925307049d40a7daf93ac47c496b9fa474b1251f4e8e091cf3ce34a8910160405180910390a250565b6040805160a081018252600080825260208201819052918101829052606081018290526080810191909152506001600160a01b03808316600090815260208181526040808320858452825291829020825160a0810184528154948516815265ffffffffffff600160a01b8604811693820193909352600160d01b90940490911691830191909152600181015460608301526002015460ff16151560808201525b92915050565b6001600160a01b038083166000908152602081815260408083208584528252808320815160a0810183528154958616815265ffffffffffff600160a01b8704811694820194909452600160d01b90950490921690840152600181015460608401526002015460ff1615801560808401819052919291906104105750806040015165ffffffffffff164210155b80156104285750806020015165ffffffffffff164211155b949350505050565b6001600160a01b038085166000908152602081815260408083208784528252808320815160a0810183528154958616815265ffffffffffff600160a01b8704811694820194909452600160d01b90950490921690840152600181015460608401526002015460ff161515608083018190529091906104b2576000915050610428565b806040015165ffffffffffff164210156104d0576000915050610428565b806020015165ffffffffffff164211156104ee576000915050610428565b7f19457468657265756d205369676e6564204d6573736167653a0a3332000000006000908152601c859052603c81206105279085610764565b905081600001516001600160a01b0316816001600160a01b03160361055157600192505050610428565b5060009695505050505050565b60006001600160a01b0383166105ac5760405162461bcd60e51b8152602060048201526013602482015272496e76616c69642073657373696f6e206b657960681b604482015260640161027e565b60008265ffffffffffff161180156105cf5750620151808265ffffffffffff1611155b61060e5760405162461bcd60e51b815260206004820152601060248201526f24b73b30b634b210323ab930ba34b7b760811b604482015260640161027e565b33600090815260016020526040812080549161062983610baa565b9190505590506040518060a00160405280846001600160a01b031681526020018365ffffffffffff164261065d9190610bc3565b65ffffffffffff9081168252428082166020808501919091526040808501879052600160609586018190523360008181528085528381208a8252855283902088518154958a0151948a01518816600160d01b026001600160d01b03958916600160a01b026001600160d01b03199097166001600160a01b0392831617969096179490941694909417845595870151908301556080909501516002909101805491151560ff19909216919091179055928616927fed8fd6087fa1917261b8324a2fea2f86bc812e3cda4aaa69a09645fa76489d8391859161073f91881690610bc3565b6040805192835265ffffffffffff90911660208301520160405180910390a392915050565b60008060006107738585610788565b91509150610780816107cd565b509392505050565b60008082516041036107be5760208301516040840151606085015160001a6107b28782858561091a565b945094505050506107c6565b506000905060025b9250929050565b60008160048111156107e1576107e1610bd6565b036107e95750565b60018160048111156107fd576107fd610bd6565b0361084a5760405162461bcd60e51b815260206004820152601860248201527f45434453413a20696e76616c6964207369676e61747572650000000000000000604482015260640161027e565b600281600481111561085e5761085e610bd6565b036108ab5760405162461bcd60e51b815260206004820152601f60248201527f45434453413a20696e76616c6964207369676e6174757265206c656e67746800604482015260640161027e565b60038160048111156108bf576108bf610bd6565b036109175760405162461bcd60e51b815260206004820152602260248201527f45434453413a20696e76616c6964207369676e6174757265202773272076616c604482015261756560f01b606482015260840161027e565b50565b6000807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a083111561095157506000905060036109d5565b6040805160008082526020820180845289905260ff881692820192909252606081018690526080810185905260019060a0016020604051602081039080840390855afa1580156109a5573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b0381166109ce576000600192509250506109d5565b9150600090505b94509492505050565b6000602082840312156109f057600080fd5b5035919050565b80356001600160a01b0381168114610a0e57600080fd5b919050565b60008060408385031215610a2657600080fd5b610a2f836109f7565b946020939093013593505050565b600060208284031215610a4f57600080fd5b610a58826109f7565b9392505050565b634e487b7160e01b600052604160045260246000fd5b60008060008060808587031215610a8b57600080fd5b610a94856109f7565b93506020850135925060408501359150606085013567ffffffffffffffff811115610abe57600080fd5b8501601f81018713610acf57600080fd5b803567ffffffffffffffff811115610ae957610ae9610a5f565b604051601f8201601f19908116603f0116810167ffffffffffffffff81118282101715610b1857610b18610a5f565b604052818152828201602001891015610b3057600080fd5b8160208401602083013760006020838301015280935050505092959194509250565b60008060408385031215610b6557600080fd5b610b6e836109f7565b9150602083013565ffffffffffff81168114610b8957600080fd5b809150509250929050565b634e487b7160e01b600052601160045260246000fd5b600060018201610bbc57610bbc610b94565b5060010190565b8082018082111561037e5761037e610b94565b634e487b7160e01b600052602160045260246000fdfea2646970667358221220e2b17e1092101c27a8ffea5f48d59b55d0153bf940c8f1ba9806d4974030213764736f6c634300081c0033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061007d5760003560e01c806381c4246d1161005b57806381c4246d1461013d578063a0c3ba1a14610160578063b6c1107a146101fc578063dc175e521461020f57600080fd5b80635b8a30a2146100825780635fb3fbdb146100975780636054d9f41461010f575b600080fd5b6100956100903660046109de565b610222565b005b6100aa6100a5366004610a13565b6102de565b6040516101069190600060a08201905060018060a01b03835116825265ffffffffffff602084015116602083015265ffffffffffff60408401511660408301526060830151606083015260808301511515608083015292915050565b60405180910390f35b61012f61011d366004610a3d565b60016020526000908152604090205481565b604051908152602001610106565b61015061014b366004610a13565b610384565b6040519015158152602001610106565b6101bc61016e366004610a13565b60006020818152928152604080822090935290815220805460018201546002909201546001600160a01b0382169265ffffffffffff600160a01b8404811693600160d01b9004169160ff1685565b604080516001600160a01b0396909616865265ffffffffffff9485166020870152929093169184019190915260608301521515608082015260a001610106565b61015061020a366004610a75565b610430565b61012f61021d366004610b52565b61055e565b3360009081526020818152604080832084845290915290206002015460ff166102875760405162461bcd60e51b815260206004820152601260248201527153657373696f6e206e6f742061637469766560701b60448201526064015b60405180910390fd5b33600081815260208181526040808320858452825291829020600201805460ff1916905590518381527f2a2f045b925307049d40a7daf93ac47c496b9fa474b1251f4e8e091cf3ce34a8910160405180910390a250565b6040805160a081018252600080825260208201819052918101829052606081018290526080810191909152506001600160a01b03808316600090815260208181526040808320858452825291829020825160a0810184528154948516815265ffffffffffff600160a01b8604811693820193909352600160d01b90940490911691830191909152600181015460608301526002015460ff16151560808201525b92915050565b6001600160a01b038083166000908152602081815260408083208584528252808320815160a0810183528154958616815265ffffffffffff600160a01b8704811694820194909452600160d01b90950490921690840152600181015460608401526002015460ff1615801560808401819052919291906104105750806040015165ffffffffffff164210155b80156104285750806020015165ffffffffffff164211155b949350505050565b6001600160a01b038085166000908152602081815260408083208784528252808320815160a0810183528154958616815265ffffffffffff600160a01b8704811694820194909452600160d01b90950490921690840152600181015460608401526002015460ff161515608083018190529091906104b2576000915050610428565b806040015165ffffffffffff164210156104d0576000915050610428565b806020015165ffffffffffff164211156104ee576000915050610428565b7f19457468657265756d205369676e6564204d6573736167653a0a3332000000006000908152601c859052603c81206105279085610764565b905081600001516001600160a01b0316816001600160a01b03160361055157600192505050610428565b5060009695505050505050565b60006001600160a01b0383166105ac5760405162461bcd60e51b8152602060048201526013602482015272496e76616c69642073657373696f6e206b657960681b604482015260640161027e565b60008265ffffffffffff161180156105cf5750620151808265ffffffffffff1611155b61060e5760405162461bcd60e51b815260206004820152601060248201526f24b73b30b634b210323ab930ba34b7b760811b604482015260640161027e565b33600090815260016020526040812080549161062983610baa565b9190505590506040518060a00160405280846001600160a01b031681526020018365ffffffffffff164261065d9190610bc3565b65ffffffffffff9081168252428082166020808501919091526040808501879052600160609586018190523360008181528085528381208a8252855283902088518154958a0151948a01518816600160d01b026001600160d01b03958916600160a01b026001600160d01b03199097166001600160a01b0392831617969096179490941694909417845595870151908301556080909501516002909101805491151560ff19909216919091179055928616927fed8fd6087fa1917261b8324a2fea2f86bc812e3cda4aaa69a09645fa76489d8391859161073f91881690610bc3565b6040805192835265ffffffffffff90911660208301520160405180910390a392915050565b60008060006107738585610788565b91509150610780816107cd565b509392505050565b60008082516041036107be5760208301516040840151606085015160001a6107b28782858561091a565b945094505050506107c6565b506000905060025b9250929050565b60008160048111156107e1576107e1610bd6565b036107e95750565b60018160048111156107fd576107fd610bd6565b0361084a5760405162461bcd60e51b815260206004820152601860248201527f45434453413a20696e76616c6964207369676e61747572650000000000000000604482015260640161027e565b600281600481111561085e5761085e610bd6565b036108ab5760405162461bcd60e51b815260206004820152601f60248201527f45434453413a20696e76616c6964207369676e6174757265206c656e67746800604482015260640161027e565b60038160048111156108bf576108bf610bd6565b036109175760405162461bcd60e51b815260206004820152602260248201527f45434453413a20696e76616c6964207369676e6174757265202773272076616c604482015261756560f01b606482015260840161027e565b50565b6000807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a083111561095157506000905060036109d5565b6040805160008082526020820180845289905260ff881692820192909252606081018690526080810185905260019060a0016020604051602081039080840390855afa1580156109a5573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b0381166109ce576000600192509250506109d5565b9150600090505b94509492505050565b6000602082840312156109f057600080fd5b5035919050565b80356001600160a01b0381168114610a0e57600080fd5b919050565b60008060408385031215610a2657600080fd5b610a2f836109f7565b946020939093013593505050565b600060208284031215610a4f57600080fd5b610a58826109f7565b9392505050565b634e487b7160e01b600052604160045260246000fd5b60008060008060808587031215610a8b57600080fd5b610a94856109f7565b93506020850135925060408501359150606085013567ffffffffffffffff811115610abe57600080fd5b8501601f81018713610acf57600080fd5b803567ffffffffffffffff811115610ae957610ae9610a5f565b604051601f8201601f19908116603f0116810167ffffffffffffffff81118282101715610b1857610b18610a5f565b604052818152828201602001891015610b3057600080fd5b8160208401602083013760006020838301015280935050505092959194509250565b60008060408385031215610b6557600080fd5b610b6e836109f7565b9150602083013565ffffffffffff81168114610b8957600080fd5b809150509250929050565b634e487b7160e01b600052601160045260246000fd5b600060018201610bbc57610bbc610b94565b5060010190565b8082018082111561037e5761037e610b94565b634e487b7160e01b600052602160045260246000fdfea2646970667358221220e2b17e1092101c27a8ffea5f48d59b55d0153bf940c8f1ba9806d4974030213764736f6c634300081c0033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}